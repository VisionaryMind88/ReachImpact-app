// Translation resources
const resources = {
  en: {
    translation: {
      common: {
        dashboard: 'Dashboard',
        profile: 'Profile',
        contacts: 'Contacts',
        calls: 'Calls',
        messages: 'Messages',
        calendar: 'Calendar',
        analytics: 'Analytics',
        settings: 'Settings',
        search: 'Search',
        logout: 'Logout',
        save: 'Save',
        cancel: 'Cancel',
        edit: 'Edit',
        delete: 'Delete',
        add: 'Add',
        loading: 'Loading...',
        error: 'An error occurred',
        success: 'Success',
        confirm: 'Confirm',
        back: 'Back',
        next: 'Next',
        previous: 'Previous',
        yes: 'Yes',
        no: 'No',
        aiCredits: 'AI Credits',
        minutes: 'minutes',
        remaining: 'remaining',
        buyMore: 'Buy more credits',
      },
      auth: {
        login: 'Login',
        register: 'Register',
        email: 'Email',
        password: 'Password',
        forgotPassword: 'Forgot password?',
        noAccount: 'Don\'t have an account?',
        hasAccount: 'Already have an account?',
        fullName: 'Full Name',
        companyName: 'Company Name',
        phoneNumber: 'Phone Number',
        industry: 'Industry',
        companyDescription: 'Company Description',
        registerSuccess: 'Registration successful',
        loginSuccess: 'Login successful',
        logoutSuccess: 'Logout successful',
      },
      dashboard: {
        monitorCampaigns: 'Monitor your AI calling campaigns and performance at a glance.',
        importContacts: 'Import Contacts',
        startCampaign: 'Start Campaign',
        activeCallsTitle: 'Active Calls',
        viewAllCalls: 'View all calls',
        appointmentsTitle: 'Appointments',
        viewCalendar: 'View calendar',
        followUpsTitle: 'Follow-ups',
        viewMessages: 'View messages',
        aiMinutesTitle: 'AI Minutes',
        buyMore: 'Buy more',
        activeCampaigns: 'Active Campaigns',
        viewAll: 'View all',
        recentCalls: 'Recent Calls',
        latestConversations: 'Latest AI conversations with your contacts.',
        refresh: 'Refresh',
        recentContacts: 'Recent Contacts',
        recentContactsDesc: 'Your recently added or updated contacts.',
        addNew: 'Add New',
      },
      campaigns: {
        name: 'Campaign',
        status: 'Status',
        contacts: 'Contacts',
        callsMade: 'Calls Made',
        appointments: 'Appointments',
        conversion: 'Conversion',
        actions: 'Actions',
        manage: 'Manage',
        active: 'Active',
        paused: 'Paused',
        completed: 'Completed',
        new: 'New Campaign',
        edit: 'Edit Campaign',
        delete: 'Delete Campaign',
      },
      contacts: {
        fullName: 'Full Name',
        companyName: 'Company Name',
        email: 'Email',
        phoneNumber: 'Phone Number',
        industry: 'Industry',
        notes: 'Notes',
        status: 'Status',
        addContact: 'Add Contact',
        editContact: 'Edit Contact',
        deleteContact: 'Delete Contact',
        import: 'Import Contacts',
        export: 'Export Contacts',
        uploadCsv: 'Upload CSV',
        uploadExcel: 'Upload Excel',
        downloadTemplate: 'Download Template',
      },
      calls: {
        startTime: 'Start Time',
        duration: 'Duration',
        status: 'Status',
        appointmentSet: 'Appointment Set',
        callback: 'Callback',
        noAnswer: 'No Answer',
        voicemail: 'Voicemail',
        busy: 'Busy',
        failed: 'Failed',
        recordings: 'Recordings',
        transcript: 'Transcript',
        sentiment: 'Sentiment',
        followUp: 'Follow-up',
      },
      chat: {
        assistant: 'ReachImpact Assistant',
        howCanIHelp: 'How can I help you today?',
        typingPlaceholder: 'Type your message...',
        send: 'Send',
        welcomeMessage: 'Hello! I\'m your ReachImpact AI assistant. I can help you with campaign setup, contact management, or answer any questions about our platform.',
      },
    },
  },
  de: {
    translation: {
      common: {
        dashboard: 'Dashboard',
        profile: 'Profil',
        contacts: 'Kontakte',
        calls: 'Anrufe',
        messages: 'Nachrichten',
        calendar: 'Kalender',
        analytics: 'Analytik',
        settings: 'Einstellungen',
        search: 'Suchen',
        logout: 'Abmelden',
        save: 'Speichern',
        cancel: 'Abbrechen',
        edit: 'Bearbeiten',
        delete: 'Löschen',
        add: 'Hinzufügen',
        loading: 'Wird geladen...',
        error: 'Ein Fehler ist aufgetreten',
        success: 'Erfolg',
        confirm: 'Bestätigen',
        back: 'Zurück',
        next: 'Weiter',
        previous: 'Zurück',
        yes: 'Ja',
        no: 'Nein',
        aiCredits: 'KI-Guthaben',
        minutes: 'Minuten',
        remaining: 'verbleibend',
        buyMore: 'Mehr Guthaben kaufen',
      },
      auth: {
        login: 'Anmelden',
        register: 'Registrieren',
        email: 'E-Mail',
        password: 'Passwort',
        forgotPassword: 'Passwort vergessen?',
        noAccount: 'Noch kein Konto?',
        hasAccount: 'Bereits ein Konto?',
        fullName: 'Vollständiger Name',
        companyName: 'Firmenname',
        phoneNumber: 'Telefonnummer',
        industry: 'Branche',
        companyDescription: 'Firmenbeschreibung',
        registerSuccess: 'Registrierung erfolgreich',
        loginSuccess: 'Anmeldung erfolgreich',
        logoutSuccess: 'Abmeldung erfolgreich',
      },
      dashboard: {
        monitorCampaigns: 'Überwachen Sie Ihre KI-Anrufkampagnen und Leistung auf einen Blick.',
        importContacts: 'Kontakte importieren',
        startCampaign: 'Kampagne starten',
        activeCallsTitle: 'Aktive Anrufe',
        viewAllCalls: 'Alle Anrufe anzeigen',
        appointmentsTitle: 'Termine',
        viewCalendar: 'Kalender anzeigen',
        followUpsTitle: 'Nachfassaktionen',
        viewMessages: 'Nachrichten anzeigen',
        aiMinutesTitle: 'KI-Minuten',
        buyMore: 'Mehr kaufen',
        activeCampaigns: 'Aktive Kampagnen',
        viewAll: 'Alle anzeigen',
        recentCalls: 'Aktuelle Anrufe',
        latestConversations: 'Letzte KI-Gespräche mit Ihren Kontakten.',
        refresh: 'Aktualisieren',
        recentContacts: 'Aktuelle Kontakte',
        recentContactsDesc: 'Ihre kürzlich hinzugefügten oder aktualisierten Kontakte.',
        addNew: 'Neu hinzufügen',
      },
      campaigns: {
        name: 'Kampagne',
        status: 'Status',
        contacts: 'Kontakte',
        callsMade: 'Getätigte Anrufe',
        appointments: 'Termine',
        conversion: 'Konversion',
        actions: 'Aktionen',
        manage: 'Verwalten',
        active: 'Aktiv',
        paused: 'Pausiert',
        completed: 'Abgeschlossen',
        new: 'Neue Kampagne',
        edit: 'Kampagne bearbeiten',
        delete: 'Kampagne löschen',
      },
      contacts: {
        fullName: 'Vollständiger Name',
        companyName: 'Firmenname',
        email: 'E-Mail',
        phoneNumber: 'Telefonnummer',
        industry: 'Branche',
        notes: 'Notizen',
        status: 'Status',
        addContact: 'Kontakt hinzufügen',
        editContact: 'Kontakt bearbeiten',
        deleteContact: 'Kontakt löschen',
        import: 'Kontakte importieren',
        export: 'Kontakte exportieren',
        uploadCsv: 'CSV hochladen',
        uploadExcel: 'Excel hochladen',
        downloadTemplate: 'Vorlage herunterladen',
      },
    }
  },
  es: {
    translation: {
      common: {
        dashboard: 'Panel de Control',
        profile: 'Perfil',
        contacts: 'Contactos',
        calls: 'Llamadas',
        messages: 'Mensajes',
        calendar: 'Calendario',
        analytics: 'Analítica',
        settings: 'Configuración',
        search: 'Buscar',
        logout: 'Cerrar sesión',
        save: 'Guardar',
        cancel: 'Cancelar',
        edit: 'Editar',
        delete: 'Eliminar',
        add: 'Añadir',
        loading: 'Cargando...',
        error: 'Ha ocurrido un error',
        success: 'Éxito',
        confirm: 'Confirmar',
        back: 'Atrás',
        next: 'Siguiente',
        previous: 'Anterior',
        yes: 'Sí',
        no: 'No',
        aiCredits: 'Créditos de IA',
        minutes: 'minutos',
        remaining: 'restantes',
        buyMore: 'Comprar más créditos',
      },
    }
  },
  fr: {
    translation: {
      common: {
        dashboard: 'Tableau de Bord',
        profile: 'Profil',
        contacts: 'Contacts',
        calls: 'Appels',
        messages: 'Messages',
        calendar: 'Calendrier',
        analytics: 'Analytique',
        settings: 'Paramètres',
        search: 'Rechercher',
        logout: 'Déconnexion',
        save: 'Enregistrer',
        cancel: 'Annuler',
        edit: 'Modifier',
        delete: 'Supprimer',
        add: 'Ajouter',
        loading: 'Chargement...',
        error: 'Une erreur est survenue',
        success: 'Succès',
        confirm: 'Confirmer',
        back: 'Retour',
        next: 'Suivant',
        previous: 'Précédent',
        yes: 'Oui',
        no: 'Non',
        aiCredits: 'Crédits IA',
        minutes: 'minutes',
        remaining: 'restantes',
        buyMore: 'Acheter plus de crédits',
      },
    }
  },
  nl: {
    translation: {
      common: {
        dashboard: 'Dashboard',
        profile: 'Profiel',
        contacts: 'Contacten',
        calls: 'Oproepen',
        messages: 'Berichten',
        calendar: 'Kalender',
        analytics: 'Analyses',
        settings: 'Instellingen',
        search: 'Zoeken',
        logout: 'Uitloggen',
        save: 'Opslaan',
        cancel: 'Annuleren',
        edit: 'Bewerken',
        delete: 'Verwijderen',
        add: 'Toevoegen',
        loading: 'Laden...',
        error: 'Er is een fout opgetreden',
        success: 'Succes',
        confirm: 'Bevestigen',
        back: 'Terug',
        next: 'Volgende',
        previous: 'Vorige',
        yes: 'Ja',
        no: 'Nee',
        aiCredits: 'AI-Credits',
        minutes: 'minuten',
        remaining: 'resterend',
        buyMore: 'Meer credits kopen',
      },
    }
  }
};

// Languages supported by the application
export const supportedLanguages = [
  { code: 'en', name: 'English' },
  { code: 'de', name: 'Deutsch' },
  { code: 'es', name: 'Español' },
  { code: 'fr', name: 'Français' },
  { code: 'nl', name: 'Nederlands' },
];

// Get translation function
export function getTranslation(lang: string, key: string, defaultValue?: string): string {
  const keys = key.split('.');
  let current: any = resources[lang]?.translation;
  
  for (const k of keys) {
    if (!current[k]) {
      // Fallback to English or default value
      if (lang !== 'en') {
        return getTranslation('en', key, defaultValue);
      }
      return defaultValue || key;
    }
    current = current[k];
  }
  
  return current || defaultValue || key;
}

// Format a date according to the user's locale
export function formatDate(date: Date, lang: string, options?: Intl.DateTimeFormatOptions): string {
  const localeMap: Record<string, string> = {
    en: 'en-US',
    de: 'de-DE',
    es: 'es-ES',
    fr: 'fr-FR',
    nl: 'nl-NL',
  };
  
  const locale = localeMap[lang] || 'en-US';
  return new Intl.DateTimeFormat(locale, options).format(date);
}

// Format a number according to the user's locale
export function formatNumber(num: number, lang: string, options?: Intl.NumberFormatOptions): string {
  const localeMap: Record<string, string> = {
    en: 'en-US',
    de: 'de-DE',
    es: 'es-ES',
    fr: 'fr-FR',
    nl: 'nl-NL',
  };
  
  const locale = localeMap[lang] || 'en-US';
  return new Intl.NumberFormat(locale, options).format(num);
}

export default {
  resources,
  supportedLanguages,
  getTranslation,
  formatDate,
  formatNumber,
};
